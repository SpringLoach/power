# --常用规范--

| --                                                     | --                                                           |
| ------------------------------------------------------ | ------------------------------------------------------------ |
| 重点                                                   | :star2:                                                      |
| 不确定                                                 | :question:                                                   |
| 次重点                                                 | :flipper:                                                    |
|                                                        | :heavy_check_mark: ​  :heavy_multiplication_x:                |
| 拓展、demo                                             | :whale:                                                      |
| 密切相关补充                                           | :ghost:                                                      |
| 存在联系补充                                           | :turtle:                                                     |
| bug                                                    | :octopus:                                                    |
| 规范                                                   | :hammer_and_wrench:                                          |
| 温故                                                   | :european_castle:                                            |
| 联系上文                                               | :trident:                                                    |
| 联系下文                                               | :point_down:                                                 |
| `<span style="backGround: pink"></span>`               | <span style="backGround: pink">特别注意</span>               |
| `<span style="color: slategray"></span>`               | <span style="color: slategray">一般</span>                   |
| `<span style="color: #a50"></span>`                    | <span style="color: #a50">概念化</span>                      |
| `<span style="color: green"></span>`                   | <span style="color: green">特别注意</span>                   |
| `<span style="color: #ed5a65"></span>`                 | <span style="color: #ed5a65">名词解释</span>                 |
| `<span style="color: #ff0000"></span>`                 | <span style="color: #ff0000">重点</span>                     |
| `<span style="color: #f7534f;font-weight:600"></span>` | <span style="color: #f7534f;font-weight:600">名词解释</span> |
| `<span style="backGround: #efe0b9"></span>`            | <span style="backGround: #efe0b9">文件名</span>              |

# ----



## 下次一定

### RegExp.$1

https://blog.csdn.net/qq_42423964/article/details/102385983

D:\项目相关\uni-app\万宁微商城\manning-cloud-store-app4\src\lib/date.util.js



### async await 

```javascript
async serviceBookPage() {
  console.log('serviceBookPage 1')
  const r = await serviceBookPage(this.data.queryData)
  console.log('serviceBookPage 2')
  // ...大量代码
  console.log('serviceBookPage 3')
},

async onShow() {
  const res = await this.serviceBookPage()
  console.log('res', res)
  console.log('onshow Next')
},
```

执行顺序

```elm
serviceBookPage 1
serviceBookPage 2
serviceBookPage 3
res undefined
onshow Next
```



### vue项目打包优化之-productionSourceMap设置

https://blog.csdn.net/weixin_44217741/article/details/108317371



### vue3

#### Tree shaking

> https://blog.csdn.net/thewar196/article/details/122455623



#### 其它特性

vue3 发布之后，性能增强，速度vue2的倍数，打包体积都在减小（treeshaking），composition api 增加了项目可读性。



### 获取目标元素的标志属性

```react
<div class="left-cate-wrap" ref="demo">
  <div class="cate-item" v-for="(item, index) in jobList" :key="item.id" :data-index="index">
    <div class="cate-title" :data-index="index">{{item.name}}</div>
    <i class="el-icon-arrow-right" :data-index="index" />
  </div>
</div>

methods: {
  handleMouseMove(e) {
    console.log(e.target.dataset.index)
  },
},
mounted()  {
  this.$refs.demo.addEventListener("mousemove", this.handleMouseMove)
},
```



### vue3 路由配置

> 有路由中导出值的中文介绍

https://blog.csdn.net/jason_renyu/article/details/123261823



### pinia较好介绍 

https://blog.csdn.net/weCat_s/article/details/122131245



### ts Record

https://blog.csdn.net/z591102/article/details/109809350



### Teleport

> 子组件添加到文档的指定位置，方便控制布局。仍能与父组件正常通信。

https://www.javascriptc.com/vue3js/guide/teleport.html#%E4%B8%8E-vue-components-%E4%B8%80%E8%B5%B7%E4%BD%BF%E7%94%A8



### webpack

#### 移除preload和prefetch

> 优化首屏加载、清除 console.log、开启 gzip 压缩、压缩图片

https://blog.csdn.net/qq_39025670/article/details/110951945



### webpack5

https://juejin.cn/post/7023242274876162084#heading-17



### 路由base

https://www.jianshu.com/p/53f59028350e

https://blog.csdn.net/weixin_62277266/article/details/123047185



### eslint

https://juejin.cn/post/6844903608379506701







#### 1

https://github.com/livoras/interview/issues/1

```
class People {
  constructor(name) {
    this.name = name
  }

  // TODO: 请在此处完善代码
  funcGroup = []
 
  on(groupName, func) {
    if (this.funcGroup[groupName]) {
      this.funcGroup[groupName].add(func)
    } else {
      this.funcGroup[groupName] = new Set()
      this.funcGroup[groupName].add(func)
    }
  }
  
  emit(groupName, ...args) {
    if (this.funcGroup[groupName]) {
      this.funcGroup[groupName].forEach(item => {
        item(...args)
      })
    } else {
      return undefined
    }
  }
  
  off(groupName, func) {
    if (this.funcGroup[groupName]) {
      this.funcGroup[groupName].delete(func)
    } else {
      return undefined
    }
  }

  sayHi() {
    console.log(`Hi, I am ${this.name}`)
  }
}
```

完整

```
class People {
  constructor(name) {
    this.name = name
  }

  // TODO: 请在此处完善代码
  funcGroup = []
 
  on(groupName, func) {
    if (this.funcGroup[groupName]) {
      this.funcGroup[groupName].add(func)
    } else {
      this.funcGroup[groupName] = new Set()
      this.funcGroup[groupName].add(func)
    }
  }
  
  emit(groupName, ...args) {
    if (this.funcGroup[groupName]) {
      this.funcGroup[groupName].forEach(item => {
        item(...args)
      })
    } else {
      return undefined
    }
  }
  
  off(groupName, func) {
    if (this.funcGroup[groupName]) {
      this.funcGroup[groupName].delete(func)
    } else {
      return undefined
    }
  }

  sayHi() {
    console.log(`Hi, I am ${this.name}`)
  }
}


/* 以下为测试代码 */
const say1 = (greeting) => {
  console.log(`${greeting}, nice meeting you.`)
}

const say2 = (greeting) => {
  console.log(`${greeting}, nice meeting you, too.`)
}

const jerry = new People('Jerry')
jerry.sayHi()
// => 输出：'Hi, I am Jerry'

jerry.on('greeting', say1)
jerry.on('greeting', say2)

jerry.emit('greeting', 'Hi')
// => 输出：'Hi, nice meeting you.' 和 'Hi, nice meeting you, too'

jerry.off('greeting', say1)
jerry.emit('greeting', 'Hi')
jerry.emit('greetings', 'Hi')
```



#### 2

```
const sleep = (duration) => {
  // TODO
  return new Promise(res => {
    setTimeout(() => {
      res()
    }, duration)
  })
}
```

全

```
const sleep = (duration) => {
  // TODO
  return new Promise(res => {
    setTimeout(() => {
      res()
    }, duration)
  })
}

const anyFunc = async () => {
  console.log("123") // 输出 123
  await sleep(300) // 暂停 300 毫秒
  console.log("456") // 输出 456，但是距离上面输出的 123 时间上相隔了 300 毫秒
}
anyFunc()
```



#### 3

```
const deepGet = (obj, prop) => {
  // TODO: 在此处完善代码
  prop = prop.replace(']', '')
  const i = prop.indexOf('.')
  const j = prop.indexOf('[')
  if (i === -1 && j === -1) {
  	console.log(obj[prop])
    return
  }
  
  let minIndex;
  if (i !== -1) {
    minIndex = i
  }
  if (i > j && j !== -1) {
    minIndex = j
  } 
  
  let attrStr = prop.slice(0, minIndex)
  const resStr = prop.slice(minIndex+1)
  if (obj[attrStr]) {
    return deepGet(obj[attrStr], resStr)
  }

  console.log(undefined) 
}

```

全

```
const deepGet = (obj, prop) => {
  // TODO: 在此处完善代码
  prop = prop.replace(']', '')
  const i = prop.indexOf('.')
  const j = prop.indexOf('[')
  if (i === -1 && j === -1) {
  	console.log(obj[prop])
    return
  }
  
  let minIndex;
  if (i !== -1) {
    minIndex = i
  }
  if (i > j && j !== -1) {
    minIndex = j
  }
  
  
  let attrStr = prop.slice(0, minIndex)
  const resStr = prop.slice(minIndex+1)
  if (obj[attrStr]) {
    return deepGet(obj[attrStr], resStr)
  }


  console.log(undefined) 
}

/** 以下为测试代码 */
deepGet({
  school: {
    student: { name: 'Tomy' },
  },
}, 'school.student.name') // => 'Tomy'

deepGet({
  school: {
    students: [
      { name: 'Tomy' },
      { name: 'Lucy' },
    ],
  }
}, 'school.students[1].name') // => 'Lucy'

// 对于不存在的属性，返回 undefined
deepGet({ user: { name: 'Tomy' } }, 'user.age') // => undefined
deepGet({ user: { name: 'Tomy' } }, 'school.user.age') // => undefined
```



#### 4

```
const combo = (...args) => {
  // TODO: 请在此处完善代码
  let funcArr = args
  let res = funcArr.length
  
  return function F(...args) {
    function myF(length = res, ...args) {
      console.log(length, ...args)
      if (length === 1) {
        console.log(funcArr[0](...args))
        return funcArr[0](...args)
      } else {
        return myF(length - 1, funcArr[length - 1](...args))
      }
    }
    myF(res, ...args)
  }
}
```

全

```
const combo = (...args) => {
  // TODO: 请在此处完善代码
  let funcArr = args
  let res = funcArr.length
  
  return function F(...args) {
    function myF(length = res, ...args) {
      console.log(length, ...args)
      if (length === 1) {
        console.log(funcArr[0](...args))
        return funcArr[0](...args)
      } else {
        return myF(length - 1, funcArr[length - 1](...args))
      }
    }
    myF(res, ...args)
  }
}

/* 以下为测试代码 */
const addOne = (a) => a + 1
const multiTwo = (a) => a * 2
const divThree = (a) => a / 3
const toString = (a) => a + ''
const split = (a) => a.split('')

split(toString(addOne(multiTwo(divThree(666)))))
// => ["4", "4", "5"]

const testForCombo = combo(split, toString, addOne, multiTwo, divThree)
testForCombo(666)
// => ["4", "4", "5"]
```





先手时

方案一

1. 选择任一盘子（成为A盘）中拿剩2个球；

2. 若对手从A盘中拿一个球，自身将B盘的球都拿走，取胜。
3. 若对手从A盘中拿两个球，自身将B盘的球余下一个，剩余全部拿走，取胜。
4. 若对手从B盘中拿走部分球，有剩余（=1），取走A盘的全部球，取胜
5. 若对手从B盘中拿走部分球，有剩余（>2），从B盘取剩下两个球。（此时A盘剩2，B盘剩2，对手先手，有方法必赢），取胜
6. 若对手从B盘中拿走部分球，有剩余（=2），（对手不放水的话）大概率输。。

方案二

  选中任一盘子拿剩3个球，推算也无法必胜、



