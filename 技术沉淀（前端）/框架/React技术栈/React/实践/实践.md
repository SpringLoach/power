### 初始化项目

1. 脚手架的安装使用，参照 section2

2. 项目规范，后面都可参照网易云1：项目规范

3. 初始化目录结构
4. 引入标准样式、styled-component
5. 引入路由
6. 使用局部样式
7. 引入 ant-design
8. 封装请求
9. 封装状态



使用脚手架创建项目时，如果速度很慢，可以临时将它默认使用的指令源（npm）换为淘宝镜像：

```
// 获取当前源
npm config get registry
// 设置当前源-淘宝镜像
npm config set registry https://registry.npm.taobao.org
// 设置当前源-默认
npm config set registry https://registry.npmjs.org/
```



### 路由跳转

路由组件的跳转

```react
import React, { memo } from "react";

import { NavLink } from "react-router-dom";

const login = memo((props) => {
  function toLogin() {
    props.history.push("/main");
  }
  return (
    <>
      <NavLink exact to="main">
        <button className="login-btn">路由组件跳转</button>
      </NavLink>
      <span className="link" onClick={(e) => toLogin()}>手动跳转</span>
    </>
  );
});

export default login;
```



### 配置服务器代理

<span style="backGround: #efe0b9">src/setupProxy.js</span>

```javascript
const { createProxyMiddleware } = require("http-proxy-middleware");

module.exports = function (app) {
  app.use(
    createProxyMiddleware("/api", {
      target: "https://httpbin.org/", // 请求转发对象
      changeOrigin: true, // 控制服务器收到的响应头中Host字段的值
      pathRewrite: {
        "^/api": "", // 路径重写
      },
    })
    // createProxyMiddleware()
  );
};
```

:octopus: 注意该文件夹需要创建在 src 目录下，创建在项目下无效；

:hammer_and_wrench: 引入的 <span style="color: #a50">http-proxy-middleware</span>，react脚手架已经安装；

:whale: 也可以在 package.json 中配置，但只能配置一个代理；注意版本兼容时的[处理](https://blog.csdn.net/lhkuxia/article/details/120054237)。



### 图片引入

#### 引入本地图片

方式一

```javascript
import account from '@/assets/img/Account.svg'

<img src={account} />
```

方式二

```react
<img src={require("@/assets/img/Account.png")} />
```

:octopus: 用这种方式时，发现无法正常展示 svg 格式的图标。



#### 引入网络图片

```react
<img src="https://xxxx" />
```



### 问题解决

#### 使用路由报错找不到Switch

由于 6.x 版本的 `react-router-dom`，有部分 API 改变，在 `react-router-config` 中不兼容所致：

原因 https://blog.51cto.com/u_15349906/5307481

解决 https://blog.csdn.net/weixin_41746338/article/details/125164606



