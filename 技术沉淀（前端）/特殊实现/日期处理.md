### moment.js

> 一款流行而又强大的时间库。



#### moment和字符串的转换

```react
import moment from 'moment';

methods: {
  moment,
  handleDemo() {
    let demo = '2021-12-29 19:37:35'
    /* 字符串 转化为 moment */
    const startTime = moment(demo, 'YYYY-MM-DD HH:mm:ss');
    /* moment 转化为 字符串，如 '2021-12-29 19:37:35' */
    demo = moment(startTime).format('YYYY-MM-DD HH:mm:ss')
  },
}
```



#### 将日期字符串转换为日期字符串

```vue
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
<script>

var str = '2021/11/15 11:28:03'; 
var momentObj = moment(str, 'YYYY/MM/DD HH:mm:ss'); 
momentObj.format('YYYY-MM-DD');                    // 2021-11-15
momentObj.format('HH:mm:ss');			           // 11:28:03
</script>
```

:star2: `HH` 代表24小时制，`hh` 代表12小时制



#### 当前时间转[字符串](http://momentjs.cn/docs/#/displaying/)

```javascript
moment().format('YYYY-MM-DD'); // 示例：2022-01-01
moment().format('HH:mm:ss');   // 示例：00:00:00
```



#### 获取昨天的字符串

> 假设今天的日期为 `2022-1-1`，将得到 `2021-12-31`

```javascript
const day1 = new Date();
day1.setTime(day1.getTime() - 24 * 60 * 60 * 1000);  // 减上一天
const startDate = moment(day1).format('YYYY-MM-DD');
```



### 原生

#### 自由组装时间—毫秒转天时分秒

```react
/**
 * 将时长转成xx天HH:mm:ss格式
 * @param { Number } time 时长，单位ms
 * @param { Boolean } showDay 是否显示【天】
 * @return 返回时间，也可以根据自己需要组装格式，例如{ time2: xxx }
 */
export function fomrtatCountDown(time, showDay = true) {
  time = parseInt(time / 1000)
  let oneMinute = 60
  let oneHour = 60 * oneMinute
  let oneDay = 24 * oneHour
  let day = parseInt(time / oneDay)
  if (showDay) {
    day = day > 0 ? day : ''
    time = time - day * oneDay
  }

  let hour = parseInt(time / oneHour)
  hour = hour >= 10 ? hour : '0' + hour
  time = time - hour * oneHour

  let minute = parseInt(time / oneMinute)
  minute = minute >= 10 ? minute : '0' + minute

  let second = time - minute * oneMinute
  second = second >= 10 ? second : '0' + second
  return {
    time: (showDay && day ? `${day}天` : '') + `${hour}:${minute}:${second}`,
    day,
    hour,
    minute,
    second
  }
}
```

