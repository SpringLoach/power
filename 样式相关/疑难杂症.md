## 需求实现



### 添加外部元素实现两种背景

> 要求出现两种不同的背景色，仅通过一个元素实现不太现实。

```vue
<!-- 修改前 -->
<div class="lab-content-inner" v-if="item.isExpand" v-html="item.showSteps"></div>

<!-- 修改后 -->
<div class="lab-content" v-if="item.isExpand" >
  <div class="lab-content-inner" v-html="item.showSteps"></div>
</div>
```



### 更改行内元素内嵌的块元素  

> 行内元素内部放块级元素是不太合规吧，但实际操作上确实能改变块级元素的样式。

```vue
<span>abc<p>尝试改样式</p></span>

<style lang="less">
span {
  p {
    display: inline;
    border: 1px solid red;
  }
}
</style>
```



### 文字旁的图标定位

> 直接以文字所在 `span` 标签作为相对定位元素，能更容易实现效果。

```vue
<span>
  {{name}}
  <i class="el-icon-female"></i>
</span>	
```

```less
span {
  position: relative;
  i {
    position: absolute;
  }
}	
```



### 组件内部的图标定位

> 图标的位置很适合用组件来子绝父相，但由于组件自身的原因，不能直接将图标放入组件内（tabs）。
>
> 此时可以用给组件添加一个父元素，将图标作为组件的同胞节点进行子绝父相定位。



### 滚动条样式的修改

> 该方案不兼容IE浏览器，且IE的自身方案不能改变滚动条尺寸。

```html
<div class="inner">
  <div class="innerbox">
    <p style="height:200px;">内容A</p>
    <p style="height:400px;">内容B</p>
    <p>内容C</p>
  </div>
</div>
```

```less
.inner{
    width: 265px;
    height: 400px;
}
.innerbox{
    overflow-y: auto;
    height: 100%;
}
/* 滚动条，高宽分别对应横竖滚动条的尺寸 */
.innerbox::-webkit-scrollbar {
    width: 4px;
}
/* 滚动的滑块 */
.innerbox::-webkit-scrollbar-thumb {
    border-radius: 10px;
    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
    background: rgba(0,0,0,0.2);
}
/* 外层轨道 */
.innerbox::-webkit-scrollbar-track {
    -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
    border-radius: 0;
    background: rgba(0,0,0,0.1);
}
```



属性 | 说明
:- | :-
::-webkit-scrollbar | 滚动条整体部分，可以设置宽/度
::-webkit-scrollbar-button | 滚动条两端的按钮
::-webkit-scrollbar-track | 外层轨道
::-webkit-scrollbar-track-piece |  内层滚动槽
::-webkit-scrollbar-thumb | 滚动的滑块
::-webkit-scrollbar-corner | 边角
::-webkit-resizer | 定义右下角拖动块的样式



### 粘性布局的替代方案

> 从BOSS直聘修改信息的目录项动态固定布局得到的启发。

1. 一开始采用正常的定位（block），并随页面上移而上移。
2. 监听页面的滚动，只有当到达一定位移时，给目录项添加 `display:fixed;` 和定位属性。



## 现象解释

### 父元素与子元素的外边距合并  

> 本质是外边距的合并现象，即使容器的外边距为0，也能与子元素的外边距合并，且合并的位置在容器之外，震惊。

```vue
<div class="page-container">
  <div class="top-bg"></div>
  <div class="page-content">
    <div class="title">湖州吴兴浩瀚人才市场</div>
  </div>
</div>
```

```less
.page-container {
  position: relative;
  // margin-top: 140px;  此时给容器设置较小的外边距，也不会改变布局
  .top-bg {
    position: absolute;
    top: 0;
    width: 100%;
    height: calc(50vh);
    border: 1px solid red;
  }
  .page-content {
    .title {
      margin-top: 150px; 
      // padding-top: 150px;  用内边距可以避免合并问题
    }
  }
}
```

#### 阻断方式

索引 | 满足其下任一条件即可 
:-: | :-
 ① | 父元素拥有上边界 
 ② | 父元素拥有上内边距  
 ③ | 在文本流中，于该子元素的前面父元素内还存在其他元素或文本 
 ④ | 如果是爷孙元素，而父元素又存在上边界、上内边距或内容 



### 浮动的行内元素宽高生效

> 本质上变成了行内块，故设置的宽高能生效。

![啊](./img/三羊开泰.png)

```html
<div>
  <a class="a1">a1</a>
  <a class="a2">a2</a>
  <a class="a3">a3</a>
</div>
```

```less
div {
  width: 200px;
  height: 200px;
  background: skyblue;
  a {
    width: 50px;
    height: 50px;
  }
  .a1 {
    float: left;
    background: pink;
  }
  .a2 {
    float: right;
    background: gold;
  }
  .a3 {
    background: grey;
  }
}
```



### 行高影响布局

> 行高本身会影响垂直方向的布局，且其的继承特性，经常给人带来迷惑。



### 悬浮菜单的闪现消失

> 在将鼠标移动到子元素（菜单）前，其消失。是因为其容器本身在位置上出现了断层导致。

```css
.father:hover .menu {
  display: block;
}
```



### 判断错误—根据选择器找到元素  

> 很容易误将相同样式的元素，归类到同一个父元素之下，实际上不一定。



## 疑惑行为

### 深度选择器的失效

> 以下两种设置方法中，只有一种能影响到内部组件的样式，另一种无效。

```less
.hardwareModal {
  /deep/ .ant-modal-content {}
}

/deep/ .hardwareModal {
  .ant-modal-content {}
}
```



### nth子选择器选择特定的元素

```css
// 可行
&:nth-child(3n+3) {
  margin-right: 0;
}
// 不可行
&:nth-child(3+3n) {
  margin-right: 0;
}
```



### 背景颜色覆盖

> 有时候，在复写样式时，仅当设置前者时样式发挥作用。  

```css
.any {
  background: skyblue;
}

.any {
  background-color: skyblue;
}
```



### 行内块元素的外边距影响同级行内元素

> 需要调整行内块元素的垂直位置，但给它添加上外边距调整时，发现影响了隔壁的行内元素的垂直高度。
>
> 推测是外边距合并到父元素的外边距上去了。  

```css
demo {
  transform: translateY(5.5px);
}
```



