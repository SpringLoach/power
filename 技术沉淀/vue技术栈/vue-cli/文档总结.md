### 插件和Preset

#### 插件

> 在项目创建的过程中，绝大部分列出的特性都是通过插件来实现的。
>
> 插件可以修改 webpack 的内部配置，也可以向 `vue-cli-service` 注入命令。

#### Preset

>  preset是一个为项目进行了初始化配置（包含预定义选项和插件）的 JSON对象，其被放置在 `.vuerc` 中，可以管理插件等。
>
>  用脚手架创建项目时可以直接选择已保存或通过文件配置的 `preset`。

### CLI服务

#### vue-cli-service serve

> 启动一个开发服务器 (基于 [webpack-dev-server](https://github.com/webpack/webpack-dev-server)) 并附带开箱即用的模块热重载。

```css
用法： vue-cli-service serve [options] [entry]

选项：
  --open    在服务器启动时打开浏览器
  --copy    在服务器启动时将 URL 复制到剪切版
  --mode    指定环境模式 (默认值：development)
  --host    指定 host (默认值：0.0.0.0)
  --port    指定 port (默认值：8080)
  --https   使用 https (默认值：false)
  
配置示例： 
"scripts": {
  "serve": "vue-cli-service serve --open --port=8081"
},

直接访问： 
npm run serve

终端访问:
./node_modules/.bin/vue-cli-service
```

#### vue-cli-service build

> 在 `dist/` 目录产生一个可用于生产环境的包，带有 `JS/CSS/HTML` 的压缩。

```css
用法：vue-cli-service build [options] [entry|pattern]

选项：

  --mode        指定环境模式 (默认值：production)
  --dest        指定输出目录 (默认值：dist)
  --modern      使用现代模式构建应用。为原生支持的 ES2015 代码的现代浏览器生成一个包（性能更佳），另外生成一个兼容老浏览器的包用来自动回退。会根据浏览器支持自动的动态加载。
  --target      app | lib | wc | wc-async (默认值：app)
  --name        库或 Web Components 模式下的名字 (默认值：package.json 中的 "name" 字段或入口文件名)
  --no-clean    在构建项目之前不清除目标目录
  --report      生成报告 report.html 以帮助分析包中包含的模块们的大小
  --report-json 生成报告 report.json 以帮助分析包中包含的模块们的大小
  --watch       监听文件变化
```

> 引用现代模式的包需要服务器的[一些配合](https://cli.vuejs.org/zh/guide/browser-compatibility.html#%E7%8E%B0%E4%BB%A3%E6%A8%A1%E5%BC%8F)。



### 浏览器兼容性

#### browserslist

> 有两种[配置](https://github.com/browserslist/browserslist)方式，指定了项目的目标浏览器的范围。会被 [@babel/preset-env](https://new.babeljs.io/docs/en/next/babel-preset-env.html) 和 [Autoprefixer](https://github.com/postcss/autoprefixer) 用来确定需要转译的 JavaScript 特性和需要添加的 CSS 浏览器前缀。

`package.json`

```json
"browserslist": [
  "> 1%",
  "last 2 versions",
  "not dead"
]
```

项目下的 `.browserslistrc`

```css
# Browsers that we support

> 1%,
last 2 versions,
not dead
```



部分解释:

```
dead：来自上两个版本查询的浏览器，但在全球使用统计中占不到0.5%，并且24个月没有官方支持或更新。现在是IE 10、IE_Mob 10、BlackBerry 10、BlackBerry 7和 OperaMobile 12.1
```





